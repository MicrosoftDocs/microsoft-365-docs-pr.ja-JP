---
title: エクスプロイト保護構成のインポート、エクスポート、展開
description: グループ ポリシーを使用して軽減策の構成を展開します。
keywords: エクスプロイト保護、軽減策、インポート、エクスポート、構成、変換、変換、展開、インストール
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: dansimp
ms.author: dansimp
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.openlocfilehash: a1fa24027a4144bcd880a48e487fb08af64fff98
ms.sourcegitcommit: 4fb1226d5875bf5b9b29252596855a6562cea9ae
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/08/2021
ms.locfileid: "52843284"
---
# <a name="import-export-and-deploy-exploit-protection-configurations"></a><span data-ttu-id="47aa0-104">エクスプロイト保護構成のインポート、エクスポート、展開</span><span class="sxs-lookup"><span data-stu-id="47aa0-104">Import, export, and deploy exploit protection configurations</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="47aa0-105">**適用対象:**</span><span class="sxs-lookup"><span data-stu-id="47aa0-105">**Applies to:**</span></span>
- [<span data-ttu-id="47aa0-106">Microsoft Defender for Endpoint</span><span class="sxs-lookup"><span data-stu-id="47aa0-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [<span data-ttu-id="47aa0-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="47aa0-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

> <span data-ttu-id="47aa0-108">Defender for Endpoint を体験してみませんか?</span><span class="sxs-lookup"><span data-stu-id="47aa0-108">Want to experience Defender for Endpoint?</span></span> [<span data-ttu-id="47aa0-109">無料試用版にサインアップしてください。</span><span class="sxs-lookup"><span data-stu-id="47aa0-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-exposedapis-abovefoldlink) 


<span data-ttu-id="47aa0-110">エクスプロイト保護は、悪用を使用して拡散および感染するマルウェアからデバイスを保護するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-110">Exploit protection helps protect devices from malware that use exploits to spread and infect.</span></span> <span data-ttu-id="47aa0-111">これは、オペレーティング システム レベルまたは個々のアプリ レベルで適用できるいくつかの軽減策で構成されます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-111">It consists of a number of mitigations that can be applied at either the operating system level, or at the individual app level.</span></span>

<span data-ttu-id="47aa0-112">アプリまたは PowerShell Windows セキュリティを使用して、一連の軽減策 (構成と呼ばれる) を作成します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-112">You use the Windows Security app or PowerShell to create a set of mitigations (known as a configuration).</span></span> <span data-ttu-id="47aa0-113">その後、この構成を XML ファイルとしてエクスポートし、ネットワーク上の複数のデバイスと共有できます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-113">You can then export this configuration as an XML file and share it with multiple devices on your network.</span></span> <span data-ttu-id="47aa0-114">次に、すべて同じ軽減設定のセットを持つ。</span><span class="sxs-lookup"><span data-stu-id="47aa0-114">Then, they all have the same set of mitigation settings.</span></span>

<span data-ttu-id="47aa0-115">評価 [パッケージには、XML](https://demo.wd.microsoft.com/Page/EP) 構造の外観を確認するために使用 *ProcessMitigation.xml構成ファイル* (Selfhost v4) の名前を示すサンプル構成ファイルが含まれています。</span><span class="sxs-lookup"><span data-stu-id="47aa0-115">The [Evaluation Package](https://demo.wd.microsoft.com/Page/EP) contains a sample configuration file (name *ProcessMitigation.xml* (Selfhost v4) you can use to see how the XML structure looks.</span></span> <span data-ttu-id="47aa0-116">サンプル ファイルには、拡張軽減エクスペリエンス 構成 (サポートされなくなった) Toolkitから変換された設定も[含](https://support.microsoft.com/en-us/help/2458544/the-enhanced-mitigation-experience-toolkit)まれている。</span><span class="sxs-lookup"><span data-stu-id="47aa0-116">The sample file also contains settings that have been converted from an [Enhanced Mitigation Experience Toolkit (no longer supported)](https://support.microsoft.com/en-us/help/2458544/the-enhanced-mitigation-experience-toolkit) configuration.</span></span> <span data-ttu-id="47aa0-117">テキスト エディター (メモ帳 など) でファイルを開く、または直接エクスプロイト保護にインポートし、Windows セキュリティ アプリの設定を確認できます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-117">You can open the file in a text editor (such as Notepad) or import it directly into exploit protection and review the settings in the Windows Security app.</span></span>

## <a name="create-and-export-a-configuration-file"></a><span data-ttu-id="47aa0-118">構成ファイルの作成とエクスポート</span><span class="sxs-lookup"><span data-stu-id="47aa0-118">Create and export a configuration file</span></span>

<span data-ttu-id="47aa0-119">構成ファイルをエクスポートする前に、正しい設定が必要です。</span><span class="sxs-lookup"><span data-stu-id="47aa0-119">Before you export a configuration file, you need to ensure you have the correct settings.</span></span> <span data-ttu-id="47aa0-120">まず、1 台の専用デバイスでエクスプロイト保護を構成します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-120">First, configure exploit protection on a single, dedicated device.</span></span> <span data-ttu-id="47aa0-121">軽減 [策の構成の詳細については](customize-exploit-protection.md) 、「悪用保護のカスタマイズ」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="47aa0-121">See [Customize exploit protection](customize-exploit-protection.md) for more information about configuring mitigations.</span></span>

<span data-ttu-id="47aa0-122">エクスプロイト保護を目的の状態 (システム レベルとアプリ レベルの両方の軽減策を含む) に構成した場合は、Windows セキュリティ アプリまたは PowerShell を使用してファイルをエクスポートできます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-122">When you've configured exploit protection to your desired state (including both system-level and app-level mitigations), you can export the file using either the Windows Security app or PowerShell.</span></span>

### <a name="use-the-windows-security-app-to-export-a-configuration-file"></a><span data-ttu-id="47aa0-123">構成ファイルをエクスポートWindows セキュリティアプリを使用する</span><span class="sxs-lookup"><span data-stu-id="47aa0-123">Use the Windows Security app to export a configuration file</span></span>

1. <span data-ttu-id="47aa0-124">タスク バー Windows セキュリティシールド アイコンを選択して、アプリを開きます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-124">Open the Windows Security app by selecting the shield icon in the task bar.</span></span> <span data-ttu-id="47aa0-125">または、Defender のスタート メニューを **検索します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-125">Or, search the start menu for **Defender**.</span></span>

2. <span data-ttu-id="47aa0-126">[App **& コントロール] タイル** (または左側のメニュー バーのアプリ アイコン) を選択し、[エクスプロイト保護の設定] **を選択します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-126">Select the **App & browser control** tile (or the app icon on the left menu bar) and then select **Exploit protection settings**:</span></span>

    ![アプリの [エクスプロイト保護の設定] オプションWindows セキュリティします。](/microsoft-365/security/defender-endpoint/images/wdsc-exp-prot)

3. <span data-ttu-id="47aa0-128">[エクスプロイト保護] セクション **の下部で** 、[設定のエクスポート] **を選択します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-128">At the bottom of the **Exploit protection** section, select **Export settings**.</span></span> <span data-ttu-id="47aa0-129">構成を保存する XML ファイルの場所と名前を選択します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-129">Choose the location and name of the XML file where you want the configuration to be saved.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="47aa0-130">既定の構成を使用する場合は、XML ファイルに正しくエクスポートされた設定を取得するには、"Use Default (On)" ではなく、設定 "既定でオン" を使用します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-130">If you want to use Default configuration, use the settings "On by default" instead of "Use Default (On)" to get the settings exported correctly on the XML file.</span></span>

    ![[エクスポート] オプション設定強調表示](/microsoft-365/security/defender-endpoint/images/wdsc-exp-prot-export)

    > [!NOTE]
    > <span data-ttu-id="47aa0-132">設定をエクスポートすると、アプリ レベルとシステム レベルの両方の軽減策のすべての設定が保存されます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-132">When you export the settings, all settings for both app-level and system-level mitigations are saved.</span></span> <span data-ttu-id="47aa0-133">つまり、[システム設定] セクションと [プログラム設定]セクションの両方からファイルをエクスポートする必要はありません。どちらのセクションでもすべての設定がエクスポートされます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-133">This means you don't need to export a file from both the **System settings** and **Program settings** sections—either section will export all settings.</span></span>

### <a name="use-powershell-to-export-a-configuration-file"></a><span data-ttu-id="47aa0-134">PowerShell を使用して構成ファイルをエクスポートする</span><span class="sxs-lookup"><span data-stu-id="47aa0-134">Use PowerShell to export a configuration file</span></span>

1. <span data-ttu-id="47aa0-135">[**スタート] メニューに「powershell」** と入力し、Windows PowerShellを右クリックし **、[** 管理者として **実行] を選択します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-135">Type **powershell** in the Start menu, right-click **Windows PowerShell** and select **Run as administrator**.</span></span>
2. <span data-ttu-id="47aa0-136">次のコマンドレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-136">Enter the following cmdlet:</span></span>

    ```PowerShell
    Get-ProcessMitigation -RegistryConfigFilePath filename.xml
    ```

    <span data-ttu-id="47aa0-137">選択 `filename` した任意の名前または場所に変更します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-137">Change `filename` to any name or location of your choosing.</span></span>

    <span data-ttu-id="47aa0-138">コマンドの例:</span><span class="sxs-lookup"><span data-stu-id="47aa0-138">Example command:</span></span>

    `Get-ProcessMitigation -RegistryConfigFilePath C:\ExploitConfigfile.xml`

> [!IMPORTANT]
> <span data-ttu-id="47aa0-139">グループ ポリシーを使用して構成を展開する場合、構成を使用するすべてのデバイスが構成ファイルにアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="47aa0-139">When you deploy the configuration using Group Policy, all devices that will use the configuration must be able to access the configuration file.</span></span> <span data-ttu-id="47aa0-140">ファイルを共有の場所に配置してください。</span><span class="sxs-lookup"><span data-stu-id="47aa0-140">Ensure you place the file in a shared location.</span></span>

## <a name="import-a-configuration-file"></a><span data-ttu-id="47aa0-141">構成ファイルのインポート</span><span class="sxs-lookup"><span data-stu-id="47aa0-141">Import a configuration file</span></span>

<span data-ttu-id="47aa0-142">以前に作成したエクスプロイト保護構成ファイルをインポートできます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-142">You can import an exploit protection configuration file that you've previously created.</span></span> <span data-ttu-id="47aa0-143">PowerShell を使用して構成ファイルをインポートする場合にのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-143">You can only use PowerShell to import the configuration file.</span></span>

<span data-ttu-id="47aa0-144">インポート後、設定は即座に適用され、アプリで確認Windows セキュリティできます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-144">After importing, the settings will be instantly applied and can be reviewed in the Windows Security app.</span></span>

### <a name="use-powershell-to-import-a-configuration-file"></a><span data-ttu-id="47aa0-145">PowerShell を使用して構成ファイルをインポートする</span><span class="sxs-lookup"><span data-stu-id="47aa0-145">Use PowerShell to import a configuration file</span></span>

1. <span data-ttu-id="47aa0-146">[**スタート] メニューに「powershell」** と入力し、Windows PowerShellを右クリックし **、[** 管理者として **実行] を選択します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-146">Type **powershell** in the Start menu, right-click **Windows PowerShell** and select **Run as administrator**.</span></span>
2. <span data-ttu-id="47aa0-147">次のコマンドレットを入力します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-147">Enter the following cmdlet:</span></span>

    ```PowerShell
    Set-ProcessMitigation -PolicyFilePath filename.xml
    ```

    <span data-ttu-id="47aa0-148">エクスプ `filename` ロイト保護 XML ファイルの場所と名前に変更します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-148">Change `filename` to the location and name of the exploit protection XML file.</span></span>

    <span data-ttu-id="47aa0-149">コマンドの例:</span><span class="sxs-lookup"><span data-stu-id="47aa0-149">Example command:</span></span>

    `Set-ProcessMitigation -PolicyFilePath C:\ExploitConfigfile.xml`

> [!IMPORTANT]
>
> <span data-ttu-id="47aa0-150">エクスプロイト保護専用に作成された構成ファイルをインポートしてください。</span><span class="sxs-lookup"><span data-stu-id="47aa0-150">Ensure you import a configuration file that is created specifically for exploit protection.</span></span>

## <a name="manage-or-deploy-a-configuration"></a><span data-ttu-id="47aa0-151">構成の管理または展開</span><span class="sxs-lookup"><span data-stu-id="47aa0-151">Manage or deploy a configuration</span></span>

<span data-ttu-id="47aa0-152">グループ ポリシーを使用して、作成した構成をネットワーク内の複数のデバイスに展開できます。</span><span class="sxs-lookup"><span data-stu-id="47aa0-152">You can use Group Policy to deploy the configuration you've created to multiple devices in your network.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="47aa0-153">グループ ポリシーを使用して構成を展開する場合、構成を使用するすべてのデバイスが構成 XML ファイルにアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="47aa0-153">When you deploy the configuration using Group Policy, all devices that will use the configuration must be able to access the configuration XML file.</span></span> <span data-ttu-id="47aa0-154">ファイルを共有の場所に配置してください。</span><span class="sxs-lookup"><span data-stu-id="47aa0-154">Ensure you place the file in a shared location.</span></span>

### <a name="use-group-policy-to-distribute-the-configuration"></a><span data-ttu-id="47aa0-155">グループ ポリシーを使用して構成を配布する</span><span class="sxs-lookup"><span data-stu-id="47aa0-155">Use Group Policy to distribute the configuration</span></span>

1. <span data-ttu-id="47aa0-156">グループ ポリシー管理デバイスで、グループ ポリシー [管理](/previous-versions/windows/desktop/gpmc/group-policy-management-console-portal)コンソールを開き、構成するグループ ポリシー オブジェクトを右クリックし、[編集] を **クリックします**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-156">On your Group Policy management device, open the [Group Policy Management Console](/previous-versions/windows/desktop/gpmc/group-policy-management-console-portal), right-click the Group Policy Object you want to configure and **Edit**.</span></span>

2. <span data-ttu-id="47aa0-157">**[グループ ポリシー管理エディター]** で、**[コンピューターの構成]** に移動し、**[管理用テンプレート]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-157">In the **Group Policy Management Editor**, go to **Computer configuration** and select **Administrative templates**.</span></span>

3. <span data-ttu-id="47aa0-158">ツリーを展開して **、Exploit Guard Windows保護**  >  **Windows Defenderコンポーネント**  >  **を展開します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-158">Expand the tree to **Windows components** > **Windows Defender Exploit Guard** > **Exploit protection**.</span></span>

    ![エクスプロイト保護のグループ ポリシー設定のスクリーンショット](/microsoft-365/security/defender-endpoint/images/exp-prot-gp)

4. <span data-ttu-id="47aa0-160">[エクスプロイト **保護設定の共通セットを使用する** ] をダブルクリックし、オプションを [有効] に **設定します**。</span><span class="sxs-lookup"><span data-stu-id="47aa0-160">Double-click **Use a common set of Exploit protection settings** and set the option to **Enabled**.</span></span>

5. <span data-ttu-id="47aa0-161">[オプション **:]** セクションで、次の例のように、使用する Exploit protection 構成ファイルの場所とファイル名を入力します。</span><span class="sxs-lookup"><span data-stu-id="47aa0-161">In the **Options:** section, enter the location and file name of the Exploit protection configuration file that you want to use, such as in the following examples:</span></span>

    * `C:\MitigationSettings\Config.XML`
    * `\\Server\Share\Config.xml`
    * `https://localhost:8080/Config.xml`
    * `C:\ExploitConfigfile.xml`

6. <span data-ttu-id="47aa0-162">**[OK] を**[選択し、通常と同様に更新された GPO を展開します](/windows/win32/srvnodes/group-policy)。</span><span class="sxs-lookup"><span data-stu-id="47aa0-162">Select **OK** and [Deploy the updated GPO as you normally do](/windows/win32/srvnodes/group-policy).</span></span>

## <a name="see-also"></a><span data-ttu-id="47aa0-163">関連項目</span><span class="sxs-lookup"><span data-stu-id="47aa0-163">See also</span></span>

- [<span data-ttu-id="47aa0-164">エクスプロイトからデバイスを保護する</span><span class="sxs-lookup"><span data-stu-id="47aa0-164">Protect devices from exploits</span></span>](exploit-protection.md)
- [<span data-ttu-id="47aa0-165">エクスプロイト保護の評価</span><span class="sxs-lookup"><span data-stu-id="47aa0-165">Evaluate exploit protection</span></span>](evaluate-exploit-protection.md)
- [<span data-ttu-id="47aa0-166">エクスプロイト保護を有効にする</span><span class="sxs-lookup"><span data-stu-id="47aa0-166">Enable exploit protection</span></span>](enable-exploit-protection.md)
- [<span data-ttu-id="47aa0-167">Exploit Protection 軽減策の構成と監査</span><span class="sxs-lookup"><span data-stu-id="47aa0-167">Configure and audit exploit protection mitigations</span></span>](customize-exploit-protection.md)
