---
title: デモでのエクスプロイト保護の動作を確認する
description: Exploit Protection によって、特定のアプリで疑わしい動作が発生するのを防ぐ方法について説明します。
keywords: エクスプロイト保護、エクスプロイト、カーネル、イベント、評価、デモ、試用、軽減
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
ms.pagetype: security
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.date: 01/06/2021
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.topic: how-to
ms.openlocfilehash: a896dd1bce08053a5a04dff6e1a1376684772322
ms.sourcegitcommit: dcb97fbfdae52960ae62b6faa707a05358193ed5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/25/2021
ms.locfileid: "51200331"
---
# <a name="evaluate-exploit-protection"></a><span data-ttu-id="fa564-104">エクスプロイト保護の評価</span><span class="sxs-lookup"><span data-stu-id="fa564-104">Evaluate exploit protection</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

<span data-ttu-id="fa564-105">**適用対象:**</span><span class="sxs-lookup"><span data-stu-id="fa564-105">**Applies to:**</span></span>
- [<span data-ttu-id="fa564-106">Microsoft Defender for Endpoint</span><span class="sxs-lookup"><span data-stu-id="fa564-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)
- [<span data-ttu-id="fa564-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="fa564-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="fa564-108">Microsoft Defender for Endpoint を体験してみませんか?</span><span class="sxs-lookup"><span data-stu-id="fa564-108">Want to experience Microsoft Defender for Endpoint?</span></span> [<span data-ttu-id="fa564-109">無料試用版にサインアップします。</span><span class="sxs-lookup"><span data-stu-id="fa564-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-enablesiem-abovefoldlink)


<span data-ttu-id="fa564-110">[エクスプロイト保護](exploit-protection.md) は、悪用を使用して他のデバイスを拡散および感染するマルウェアからデバイスを保護するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="fa564-110">[Exploit protection](exploit-protection.md) helps protect devices from malware that uses exploits to spread and infect other devices.</span></span> <span data-ttu-id="fa564-111">軽減策は、オペレーティング システムまたは個々のアプリに適用できます。</span><span class="sxs-lookup"><span data-stu-id="fa564-111">Mitigation can be applied to either the operating system or to an individual app.</span></span> <span data-ttu-id="fa564-112">拡張軽減エクスペリエンス サービス (EMET) の一部Toolkit機能の多くは、エクスプロイト保護に含まれています。</span><span class="sxs-lookup"><span data-stu-id="fa564-112">Many of the features that were part of the Enhanced Mitigation Experience Toolkit (EMET) are included in exploit protection.</span></span> <span data-ttu-id="fa564-113">(EMET はサポートの終了に達しました。</span><span class="sxs-lookup"><span data-stu-id="fa564-113">(The EMET has reached its end of support.)</span></span>

<span data-ttu-id="fa564-114">監査では、テスト環境の特定のアプリに対する軽減策の仕組みについて確認できます。</span><span class="sxs-lookup"><span data-stu-id="fa564-114">In audit, you can see how mitigation works for certain apps in a test environment.</span></span> <span data-ttu-id="fa564-115">これは、実稼働 *環境で* エクスプロイト保護を有効にした場合に何が起こったかを示します。</span><span class="sxs-lookup"><span data-stu-id="fa564-115">This shows what *would* have happened if you enabled exploit protection in your production environment.</span></span> <span data-ttu-id="fa564-116">これにより、悪用保護が業務上のアプリに悪影響を及ぼさなかったり、疑わしいイベントや悪意のあるイベントが発生したのか確認できます。</span><span class="sxs-lookup"><span data-stu-id="fa564-116">This way, you can verify that exploit protection doesn't adversely affect your line-of-business apps, and see which suspicious or malicious events occur.</span></span>

> [!TIP]
> <span data-ttu-id="fa564-117">また、Microsoft Defender Testground の Web サイトを [参照して](https://demo.wd.microsoft.com?ocid=cx-wddocs-testground) 、demo.wd.microsoft.com の動作を確認できます。</span><span class="sxs-lookup"><span data-stu-id="fa564-117">You can also visit the Microsoft Defender Testground website at [demo.wd.microsoft.com](https://demo.wd.microsoft.com?ocid=cx-wddocs-testground) to see how exploit protection works.</span></span>

## <a name="enable-exploit-protection-for-testing"></a><span data-ttu-id="fa564-118">テスト用のエクスプロイト保護を有効にする</span><span class="sxs-lookup"><span data-stu-id="fa564-118">Enable exploit protection for testing</span></span>

<span data-ttu-id="fa564-119">特定のプログラムのテスト モードで軽減策を設定するには、Windows セキュリティ アプリまたはアプリを使用Windows PowerShell。</span><span class="sxs-lookup"><span data-stu-id="fa564-119">You can set mitigations in a testing mode for specific programs by using the Windows Security app or Windows PowerShell.</span></span>

### <a name="windows-security-app"></a><span data-ttu-id="fa564-120">Windows セキュリティ アプリ</span><span class="sxs-lookup"><span data-stu-id="fa564-120">Windows Security app</span></span>

1. <span data-ttu-id="fa564-121">Windows セキュリティ アプリを開きます。</span><span class="sxs-lookup"><span data-stu-id="fa564-121">Open the Windows Security app.</span></span> <span data-ttu-id="fa564-122">タスク バーのシールド アイコンを選択するか、Defender のスタート メニューを検索 **します**。</span><span class="sxs-lookup"><span data-stu-id="fa564-122">Select the shield icon in the task bar or search the start menu for **Defender**.</span></span>

2. <span data-ttu-id="fa564-123">[App **& コントロール** ] タイル (または左側のメニュー バーのアプリ アイコン) を選択し、[エクスプロイト保護] **を選択します**。</span><span class="sxs-lookup"><span data-stu-id="fa564-123">Select the **App & browser control** tile (or the app icon on the left menu bar) and then select **Exploit protection**.</span></span>

3. <span data-ttu-id="fa564-124">[プログラムの **設定] に移動** し、保護を適用するアプリを選択します。</span><span class="sxs-lookup"><span data-stu-id="fa564-124">Go to **Program settings** and choose the app you want to apply protection to:</span></span>

    1. <span data-ttu-id="fa564-125">構成するアプリが既に一覧表示されている場合は、そのアプリを選択し、[編集] を選択 **します。**</span><span class="sxs-lookup"><span data-stu-id="fa564-125">If the app you want to configure is already listed, select it and then select **Edit**</span></span>
    2. <span data-ttu-id="fa564-126">アプリが一覧の上部に表示されていない場合は、[プログラムの追加] を **選択してカスタマイズします**。</span><span class="sxs-lookup"><span data-stu-id="fa564-126">If the app is not listed at the top of the list select **Add program to customize**.</span></span> <span data-ttu-id="fa564-127">次に、アプリの追加方法を選択します。</span><span class="sxs-lookup"><span data-stu-id="fa564-127">Then, choose how you want to add the app.</span></span>
        - <span data-ttu-id="fa564-128">[ **プログラム名で追加] を** 使用して、その名前を持つ実行中のプロセスに軽減策を適用します。</span><span class="sxs-lookup"><span data-stu-id="fa564-128">Use **Add by program name** to have the mitigation applied to any running process with that name.</span></span> <span data-ttu-id="fa564-129">拡張子が付くファイルを指定します。</span><span class="sxs-lookup"><span data-stu-id="fa564-129">Specify a file with an extension.</span></span> <span data-ttu-id="fa564-130">完全なパスを入力すると、その場所に名前が付くアプリにのみ軽減策を制限できます。</span><span class="sxs-lookup"><span data-stu-id="fa564-130">You can enter a full path to limit the mitigation to only the app with that name in that location.</span></span>
        - <span data-ttu-id="fa564-131">標準の Windows Explorer **ファイル ピッカー** ウィンドウを使用して、目的のファイルを検索して選択するには、[厳密なファイル パスを選択する] を使用します。</span><span class="sxs-lookup"><span data-stu-id="fa564-131">Use **Choose exact file path** to use a standard Windows Explorer file picker window to find and select the file you want.</span></span>

4. <span data-ttu-id="fa564-132">アプリを選択すると、適用できるすべての軽減策の一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="fa564-132">After selecting the app, you'll see a list of all the mitigations that can be applied.</span></span> <span data-ttu-id="fa564-133">[監査] **を選択** すると、監査モードでのみ軽減策が適用されます。</span><span class="sxs-lookup"><span data-stu-id="fa564-133">Choosing **Audit** will apply the mitigation in audit mode only.</span></span> <span data-ttu-id="fa564-134">プロセス、アプリ、または Windows を再起動する必要がある場合は、通知されます。</span><span class="sxs-lookup"><span data-stu-id="fa564-134">You'll be notified if you need to restart the process, app, or Windows.</span></span>

5. <span data-ttu-id="fa564-135">構成するアプリと軽減策について、この手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="fa564-135">Repeat this procedure for all the apps and mitigations you want to configure.</span></span> <span data-ttu-id="fa564-136">構成 **の設定** が完了したら、[適用] を選択します。</span><span class="sxs-lookup"><span data-stu-id="fa564-136">Select **Apply** when you're done setting up your configuration.</span></span>

### <a name="powershell"></a><span data-ttu-id="fa564-137">PowerShell</span><span class="sxs-lookup"><span data-stu-id="fa564-137">PowerShell</span></span>

<span data-ttu-id="fa564-138">アプリ レベルの軽減策を監査モードに設定するには、監査 `Set-ProcessMitigation` モード **コマンドレットを使用** します。</span><span class="sxs-lookup"><span data-stu-id="fa564-138">To set app-level mitigations to audit mode, use `Set-ProcessMitigation` with the **Audit mode** cmdlet.</span></span>

<span data-ttu-id="fa564-139">各軽減策を次の形式で構成します。</span><span class="sxs-lookup"><span data-stu-id="fa564-139">Configure each mitigation in the following format:</span></span>

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

<span data-ttu-id="fa564-140">ここで、</span><span class="sxs-lookup"><span data-stu-id="fa564-140">Where:</span></span>
```
* \<Scope>:
  * `-Name` to indicate the mitigations should be applied to a specific app. Specify the app's executable after this flag.
* \<Action>:
  * `-Enable` to enable the mitigation
    * `-Disable` to disable the mitigation
* \<Mitigation>:
  * The mitigation's cmdlet as defined in the following table. Each mitigation is separated with a comma.
```
 |<span data-ttu-id="fa564-141">軽減策</span><span class="sxs-lookup"><span data-stu-id="fa564-141">Mitigation</span></span> | <span data-ttu-id="fa564-142">監査モードのコマンドレット</span><span class="sxs-lookup"><span data-stu-id="fa564-142">Audit mode cmdlet</span></span> |
|---|---|
 |<span data-ttu-id="fa564-143">任意の Code Guard (ACG)</span><span class="sxs-lookup"><span data-stu-id="fa564-143">Arbitrary Code Guard (ACG)</span></span> | `AuditDynamicCode` |
 |<span data-ttu-id="fa564-144">低整合性イメージをブロックする</span><span class="sxs-lookup"><span data-stu-id="fa564-144">Block low integrity images</span></span> | `AuditImageLoad`
 |<span data-ttu-id="fa564-145">信頼されていないフォントをブロックする</span><span class="sxs-lookup"><span data-stu-id="fa564-145">Block untrusted fonts</span></span> | <span data-ttu-id="fa564-146">`AuditFont`, `FontAuditOnly`</span><span class="sxs-lookup"><span data-stu-id="fa564-146">`AuditFont`, `FontAuditOnly`</span></span> |
 |<span data-ttu-id="fa564-147">コード整合性ガード</span><span class="sxs-lookup"><span data-stu-id="fa564-147">Code integrity guard</span></span> | <span data-ttu-id="fa564-148">`AuditMicrosoftSigned`, `AuditStoreSigned`</span><span class="sxs-lookup"><span data-stu-id="fa564-148">`AuditMicrosoftSigned`, `AuditStoreSigned`</span></span> |
 |<span data-ttu-id="fa564-149">Win32k システム呼び出しを無効にする</span><span class="sxs-lookup"><span data-stu-id="fa564-149">Disable Win32k system calls</span></span> | `AuditSystemCall` |
 |<span data-ttu-id="fa564-150">子プロセスを許可しない</span><span class="sxs-lookup"><span data-stu-id="fa564-150">Do not allow child processes</span></span> | `AuditChildProcess` |

<span data-ttu-id="fa564-151">たとえば、次のコマンドを実行して、testing.exeという名前のアプリの監査モードで任意の *Code* Guard (ACG) を有効にします。</span><span class="sxs-lookup"><span data-stu-id="fa564-151">For example, to enable Arbitrary Code Guard (ACG) in audit mode for an app named *testing.exe*, run the following command:</span></span>

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable AuditDynamicCode
```

<span data-ttu-id="fa564-152">に置き **換え、** 監査モードを無効 `-Enable` にできます `-Disable` 。</span><span class="sxs-lookup"><span data-stu-id="fa564-152">You can disable **audit mode** by replacing `-Enable` with `-Disable`.</span></span>

## <a name="review-exploit-protection-audit-events"></a><span data-ttu-id="fa564-153">エクスプロイト保護監査イベントの確認</span><span class="sxs-lookup"><span data-stu-id="fa564-153">Review exploit protection audit events</span></span>

<span data-ttu-id="fa564-154">ブロックされているアプリを確認するには、イベント ビューアーを開き、次のイベントをフィルター処理して、Security-Mitigationsします。</span><span class="sxs-lookup"><span data-stu-id="fa564-154">To review which apps would have been blocked, open Event Viewer and filter for the following events in the Security-Mitigations log.</span></span>

| <span data-ttu-id="fa564-155">機能</span><span class="sxs-lookup"><span data-stu-id="fa564-155">Feature</span></span> | <span data-ttu-id="fa564-156">プロバイダー/ソース</span><span class="sxs-lookup"><span data-stu-id="fa564-156">Provider/source</span></span> | <span data-ttu-id="fa564-157">イベント ID</span><span class="sxs-lookup"><span data-stu-id="fa564-157">Event ID</span></span> | <span data-ttu-id="fa564-158">説明</span><span class="sxs-lookup"><span data-stu-id="fa564-158">Description</span></span> |
|---|---|--|---|
| <span data-ttu-id="fa564-159">エクスプロイト保護</span><span class="sxs-lookup"><span data-stu-id="fa564-159">Exploit protection</span></span> | <span data-ttu-id="fa564-160">Security-Mitigations (カーネル モード/ユーザー モード)</span><span class="sxs-lookup"><span data-stu-id="fa564-160">Security-Mitigations (Kernel Mode/User Mode)</span></span> | <span data-ttu-id="fa564-161">1</span><span class="sxs-lookup"><span data-stu-id="fa564-161">1</span></span> | <span data-ttu-id="fa564-162">ACG 監査</span><span class="sxs-lookup"><span data-stu-id="fa564-162">ACG audit</span></span> |
| <span data-ttu-id="fa564-163">エクスプロイト保護</span><span class="sxs-lookup"><span data-stu-id="fa564-163">Exploit protection</span></span> | <span data-ttu-id="fa564-164">Security-Mitigations (カーネル モード/ユーザー モード)</span><span class="sxs-lookup"><span data-stu-id="fa564-164">Security-Mitigations (Kernel Mode/User Mode)</span></span> | <span data-ttu-id="fa564-165">3</span><span class="sxs-lookup"><span data-stu-id="fa564-165">3</span></span> | <span data-ttu-id="fa564-166">子プロセスの監査を許可しない</span><span class="sxs-lookup"><span data-stu-id="fa564-166">Do not allow child processes audit</span></span> |
| <span data-ttu-id="fa564-167">エクスプロイト保護</span><span class="sxs-lookup"><span data-stu-id="fa564-167">Exploit protection</span></span> | <span data-ttu-id="fa564-168">Security-Mitigations (カーネル モード/ユーザー モード)</span><span class="sxs-lookup"><span data-stu-id="fa564-168">Security-Mitigations (Kernel Mode/User Mode)</span></span> | <span data-ttu-id="fa564-169">5</span><span class="sxs-lookup"><span data-stu-id="fa564-169">5</span></span> | <span data-ttu-id="fa564-170">低整合性イメージの監査をブロックする</span><span class="sxs-lookup"><span data-stu-id="fa564-170">Block low integrity images audit</span></span> |
| <span data-ttu-id="fa564-171">エクスプロイト保護</span><span class="sxs-lookup"><span data-stu-id="fa564-171">Exploit protection</span></span> | <span data-ttu-id="fa564-172">Security-Mitigations (カーネル モード/ユーザー モード)</span><span class="sxs-lookup"><span data-stu-id="fa564-172">Security-Mitigations (Kernel Mode/User Mode)</span></span> | <span data-ttu-id="fa564-173">7</span><span class="sxs-lookup"><span data-stu-id="fa564-173">7</span></span> | <span data-ttu-id="fa564-174">リモート イメージの監査をブロックする</span><span class="sxs-lookup"><span data-stu-id="fa564-174">Block remote images audit</span></span> |
| <span data-ttu-id="fa564-175">エクスプロイト保護</span><span class="sxs-lookup"><span data-stu-id="fa564-175">Exploit protection</span></span> | <span data-ttu-id="fa564-176">Security-Mitigations (カーネル モード/ユーザー モード)</span><span class="sxs-lookup"><span data-stu-id="fa564-176">Security-Mitigations (Kernel Mode/User Mode)</span></span> | <span data-ttu-id="fa564-177">9</span><span class="sxs-lookup"><span data-stu-id="fa564-177">9</span></span> | <span data-ttu-id="fa564-178">win32k システム呼び出しの監査を無効にする</span><span class="sxs-lookup"><span data-stu-id="fa564-178">Disable win32k system calls audit</span></span> |
| <span data-ttu-id="fa564-179">エクスプロイト保護</span><span class="sxs-lookup"><span data-stu-id="fa564-179">Exploit protection</span></span> | <span data-ttu-id="fa564-180">Security-Mitigations (カーネル モード/ユーザー モード)</span><span class="sxs-lookup"><span data-stu-id="fa564-180">Security-Mitigations (Kernel Mode/User Mode)</span></span> | <span data-ttu-id="fa564-181">11</span><span class="sxs-lookup"><span data-stu-id="fa564-181">11</span></span> | <span data-ttu-id="fa564-182">コード整合性ガードの監査</span><span class="sxs-lookup"><span data-stu-id="fa564-182">Code integrity guard audit</span></span> |

## <a name="see-also"></a><span data-ttu-id="fa564-183">関連項目</span><span class="sxs-lookup"><span data-stu-id="fa564-183">See also</span></span>

- [<span data-ttu-id="fa564-184">エクスプロイト保護を有効にする</span><span class="sxs-lookup"><span data-stu-id="fa564-184">Enable exploit protection</span></span>](enable-exploit-protection.md)
- [<span data-ttu-id="fa564-185">エクスプロイト保護の軽減策の構成と監査</span><span class="sxs-lookup"><span data-stu-id="fa564-185">Configure and audit exploit protection mitigations</span></span>](customize-exploit-protection.md)
- [<span data-ttu-id="fa564-186">エクスプロイト保護構成のインポート、エクスポート、および展開</span><span class="sxs-lookup"><span data-stu-id="fa564-186">Import, export, and deploy exploit protection configurations</span></span>](import-export-exploit-protection-emet-xml.md)
- [<span data-ttu-id="fa564-187">エクスプロイト保護のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="fa564-187">Troubleshoot exploit protection</span></span>](troubleshoot-exploit-protection-mitigations.md)
