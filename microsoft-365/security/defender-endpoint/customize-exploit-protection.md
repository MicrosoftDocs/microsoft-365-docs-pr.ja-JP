---
title: エクスプロイト保護をカスタマイズする
keywords: エクスプロイトの保護、軽減、有効化、powershell、dep、cfg、emet、aslr
description: Windows セキュリティ アプリまたは PowerShell を使用して、エクスプロイト保護で使用される特定の軽減策を有効または無効にできます。 また、軽減策を監査し、構成をエクスポートできます。
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: dansimp
ms.author: dansimp
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.openlocfilehash: 3337389df045775f8a31417894ee1ecbac9f1ae5
ms.sourcegitcommit: 6e5c00f84b5201422aed094f2697016407df8fc2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/02/2021
ms.locfileid: "51570962"
---
# <a name="customize-exploit-protection"></a><span data-ttu-id="344de-105">エクスプロイト保護をカスタマイズする</span><span class="sxs-lookup"><span data-stu-id="344de-105">Customize exploit protection</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="344de-106">**適用対象:**</span><span class="sxs-lookup"><span data-stu-id="344de-106">**Applies to:**</span></span>
- [<span data-ttu-id="344de-107">Microsoft Defender for Endpoint</span><span class="sxs-lookup"><span data-stu-id="344de-107">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [<span data-ttu-id="344de-108">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="344de-108">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="344de-109">Defender for Endpoint を体験してみませんか?</span><span class="sxs-lookup"><span data-stu-id="344de-109">Want to experience Defender for Endpoint?</span></span> [<span data-ttu-id="344de-110">無料試用版にサインアップしてください。</span><span class="sxs-lookup"><span data-stu-id="344de-110">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-assignaccess-abovefoldlink)


<span data-ttu-id="344de-111">エクスプロイト保護は、オペレーティング システム プロセスと個々のアプリの両方に、多数の悪用軽減手法を自動的に適用します。</span><span class="sxs-lookup"><span data-stu-id="344de-111">Exploit protection automatically applies a number of exploit mitigation techniques on both the operating system processes and on individual apps.</span></span>

<span data-ttu-id="344de-112">個々のデバイスで Windows セキュリティ アプリを使用してこれらの設定を構成します。</span><span class="sxs-lookup"><span data-stu-id="344de-112">Configure these settings using the Windows Security app on an individual device.</span></span> <span data-ttu-id="344de-113">次に、構成を XML ファイルとしてエクスポートして、他のデバイスに展開できます。</span><span class="sxs-lookup"><span data-stu-id="344de-113">Then, export the configuration as an XML file so you can deploy to other devices.</span></span> <span data-ttu-id="344de-114">グループ ポリシーを使用して、XML ファイルを複数のデバイスに一度に配布します。</span><span class="sxs-lookup"><span data-stu-id="344de-114">Use Group Policy to distribute the XML file to multiple devices at once.</span></span> <span data-ttu-id="344de-115">PowerShell を使用して軽減策を構成できます。</span><span class="sxs-lookup"><span data-stu-id="344de-115">You can also configure the mitigations with PowerShell.</span></span>

<span data-ttu-id="344de-116">この記事では、エクスプロイト保護で利用できる各軽減策の一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="344de-116">This article lists each of the mitigations available in exploit protection.</span></span> <span data-ttu-id="344de-117">システム全体または個々のアプリに軽減策を適用できるかどうかを示し、軽減の仕組みについて簡単に説明します。</span><span class="sxs-lookup"><span data-stu-id="344de-117">It indicates whether the mitigation can be applied system-wide or to individual apps, and provides a brief description of how the mitigation works.</span></span>

<span data-ttu-id="344de-118">また、Windows セキュリティ、PowerShell、およびモバイル デバイス管理 (MDM) 構成サービス プロバイダー (CSP) を使用して軽減策を有効または構成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="344de-118">It also describes how to enable or configure the mitigations using Windows Security, PowerShell, and mobile device management (MDM) configuration service providers (CSPs).</span></span> <span data-ttu-id="344de-119">これは、ネットワーク全体に展開できる構成を作成する最初の手順です。</span><span class="sxs-lookup"><span data-stu-id="344de-119">This is the first step in creating a configuration that you can deploy across your network.</span></span> <span data-ttu-id="344de-120">次の手順では、構成を生成、エクスポート、インポート、および複数のデバイス [に展開します](import-export-exploit-protection-emet-xml.md)。</span><span class="sxs-lookup"><span data-stu-id="344de-120">The next step involves [generating, exporting, importing, and deploying the configuration to multiple devices](import-export-exploit-protection-emet-xml.md).</span></span>

> [!WARNING]
> <span data-ttu-id="344de-121">一部のセキュリティ軽減テクノロジでは、一部のアプリケーションとの互換性の問題が発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="344de-121">Some security mitigation technologies may have compatibility issues with some applications.</span></span> <span data-ttu-id="344de-122">構成を実稼働環境またはネットワークの残りの部分に[](evaluate-exploit-protection.md)展開する前に、監査モードを使用して、すべてのターゲット使用シナリオで悪用保護をテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="344de-122">You should test exploit protection in all target use scenarios by using [audit mode](evaluate-exploit-protection.md) before deploying the configuration across a production environment or the rest of your network.</span></span>

## <a name="exploit-protection-mitigations"></a><span data-ttu-id="344de-123">エクスプロイト保護の軽減策</span><span class="sxs-lookup"><span data-stu-id="344de-123">Exploit protection mitigations</span></span>

<span data-ttu-id="344de-124">すべての軽減策は、個々のアプリに対して構成できます。</span><span class="sxs-lookup"><span data-stu-id="344de-124">All mitigations can be configured for individual apps.</span></span> <span data-ttu-id="344de-125">一部の軽減策は、オペレーティング システム レベルでも適用できます。</span><span class="sxs-lookup"><span data-stu-id="344de-125">Some mitigations can also be applied at the operating system level.</span></span>

<span data-ttu-id="344de-126">各軽減策は、オン、オフ、または既定値に設定できます。</span><span class="sxs-lookup"><span data-stu-id="344de-126">You can set each of the mitigations on, off, or to their default value.</span></span> <span data-ttu-id="344de-127">一部の軽減策には、表の説明に示されている追加のオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="344de-127">Some mitigations have additional options that are indicated in the description in the table.</span></span>

<span data-ttu-id="344de-128">既定値は、軽減策ごとに既定のオプションを使用 **するで、** 常にかっこで指定されます。</span><span class="sxs-lookup"><span data-stu-id="344de-128">Default values are always specified in brackets at the **Use default** option for each mitigation.</span></span> <span data-ttu-id="344de-129">次の例では、データ実行防止の既定値は "On" です。</span><span class="sxs-lookup"><span data-stu-id="344de-129">In the following example, the default for Data Execution Prevention is "On".</span></span>

<span data-ttu-id="344de-130">[ **各軽減設定** に既定の構成を使用する] は、ホーム ユーザーの日常的な使用に対する基本レベルの保護に関する推奨事項を示します。</span><span class="sxs-lookup"><span data-stu-id="344de-130">The **Use default** configuration for each of the mitigation settings indicates our recommendation for a base level of protection for everyday usage for home users.</span></span> <span data-ttu-id="344de-131">エンタープライズ展開では、個々のニーズに必要な保護を考慮する必要があります。既定から離れて構成を変更する必要がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="344de-131">Enterprise deployments should consider the protection required for their individual needs and may need to modify configuration away from the defaults.</span></span>

<span data-ttu-id="344de-132">軽減策ごとに関連付けられた PowerShell コマンドレットについては、この記事の下部にある [PowerShell](#cmdlets-table) リファレンス テーブルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="344de-132">For the associated PowerShell cmdlets for each mitigation, see the [PowerShell reference table](#cmdlets-table) at the bottom of this article.</span></span>

| <span data-ttu-id="344de-133">軽減策</span><span class="sxs-lookup"><span data-stu-id="344de-133">Mitigation</span></span> | <span data-ttu-id="344de-134">説明</span><span class="sxs-lookup"><span data-stu-id="344de-134">Description</span></span> | <span data-ttu-id="344de-135">に適用できます</span><span class="sxs-lookup"><span data-stu-id="344de-135">Can be applied to</span></span> | <span data-ttu-id="344de-136">使用可能な監査モード</span><span class="sxs-lookup"><span data-stu-id="344de-136">Audit mode available</span></span> |
| ---------- | ----------- | ----------------- | -------------------- |
| <span data-ttu-id="344de-137">制御フロー ガード (CFG)</span><span class="sxs-lookup"><span data-stu-id="344de-137">Control flow guard (CFG)</span></span> | <span data-ttu-id="344de-138">間接呼び出しの制御フローの整合性を確保します。</span><span class="sxs-lookup"><span data-stu-id="344de-138">Ensures control flow integrity for indirect calls.</span></span> <span data-ttu-id="344de-139">必要に応じて、エクスポートを抑制し、厳密な CFG を使用できます。</span><span class="sxs-lookup"><span data-stu-id="344de-139">Can optionally suppress exports and use strict CFG.</span></span> | <span data-ttu-id="344de-140">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-140">System and app-level</span></span> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-142">データ実行防止 (DEP)</span><span class="sxs-lookup"><span data-stu-id="344de-142">Data Execution Prevention (DEP)</span></span> | <span data-ttu-id="344de-143">ヒープやスタックなどのデータ専用メモリ ページからコードが実行されるのを防ぐ。</span><span class="sxs-lookup"><span data-stu-id="344de-143">Prevents code from being run from data-only memory pages such as the heap and stacks.</span></span> <span data-ttu-id="344de-144">32 ビット (x86) アプリでのみ構成可能で、他のすべてのアーキテクチャで完全に有効になります。</span><span class="sxs-lookup"><span data-stu-id="344de-144">Only configurable for 32-bit (x86) apps, permanently enabled for all other architectures.</span></span> <span data-ttu-id="344de-145">必要に応じて ATL サンク エミュレーションを有効にできます。</span><span class="sxs-lookup"><span data-stu-id="344de-145">Can optionally enable ATL thunk emulation.</span></span> | <span data-ttu-id="344de-146">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-146">System and app-level</span></span>  | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-148">イメージのランダム化を強制する (必須 ASLR)</span><span class="sxs-lookup"><span data-stu-id="344de-148">Force randomization for images (Mandatory ASLR)</span></span> | <span data-ttu-id="344de-149">/DYNAMICBASE でコンパイルされていないイメージを強制的に再配置します。</span><span class="sxs-lookup"><span data-stu-id="344de-149">Forcibly relocates images not compiled with /DYNAMICBASE.</span></span> <span data-ttu-id="344de-150">必要に応じて、再配置情報を持つ画像の読み込みが失敗する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="344de-150">Can optionally fail loading images that don't have relocation information.</span></span> | <span data-ttu-id="344de-151">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-151">System and app-level</span></span>  | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-153">メモリ割り当てをランダム化する (ボトムアップ ASLR)</span><span class="sxs-lookup"><span data-stu-id="344de-153">Randomize memory allocations (Bottom-Up ASLR)</span></span> | <span data-ttu-id="344de-154">仮想メモリ割り当ての場所をランダム化します。</span><span class="sxs-lookup"><span data-stu-id="344de-154">Randomizes locations for virtual memory allocations.</span></span> <span data-ttu-id="344de-155">これには、システム構造ヒープ、スタック、TEB、PEB が含まれます。</span><span class="sxs-lookup"><span data-stu-id="344de-155">It includes system structure heaps, stacks, TEBs, and PEBs.</span></span> <span data-ttu-id="344de-156">必要に応じて、64 ビット プロセスに対してより広いランダム化分散を使用できます。</span><span class="sxs-lookup"><span data-stu-id="344de-156">Can optionally use a wider randomization variance for 64-bit processes.</span></span> | <span data-ttu-id="344de-157">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-157">System and app-level</span></span> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-159">例外チェーンの検証 (SEHOP)</span><span class="sxs-lookup"><span data-stu-id="344de-159">Validate exception chains (SEHOP)</span></span> | <span data-ttu-id="344de-160">例外ディスパッチ中に例外チェーンの整合性を確保します。</span><span class="sxs-lookup"><span data-stu-id="344de-160">Ensures the integrity of an exception chain during exception dispatch.</span></span> <span data-ttu-id="344de-161">32 ビット (x86) アプリケーションでのみ構成可能です。</span><span class="sxs-lookup"><span data-stu-id="344de-161">Only configurable for 32-bit (x86) applications.</span></span> | <span data-ttu-id="344de-162">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-162">System and app-level</span></span>  | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-164">ヒープ整合性の検証</span><span class="sxs-lookup"><span data-stu-id="344de-164">Validate heap integrity</span></span> | <span data-ttu-id="344de-165">ヒープ破損が検出されると、プロセスを終了します。</span><span class="sxs-lookup"><span data-stu-id="344de-165">Terminates a process when heap corruption is detected.</span></span> | <span data-ttu-id="344de-166">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-166">System and app-level</span></span>  | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-168">任意のコード ガード (ACG)</span><span class="sxs-lookup"><span data-stu-id="344de-168">Arbitrary code guard (ACG)</span></span> | <span data-ttu-id="344de-169">イメージに裏付けされていない実行可能コードの導入を防止し、コード ページが変更されるのを防ぐ。</span><span class="sxs-lookup"><span data-stu-id="344de-169">Prevents the introduction of non-image-backed executable code and prevents code pages from being modified.</span></span> <span data-ttu-id="344de-170">必要に応じて、スレッドのオプトアウトを許可し、リモートダウングレードを許可できます (PowerShell でのみ構成可能)。</span><span class="sxs-lookup"><span data-stu-id="344de-170">Can optionally allow thread opt-out and allow remote downgrade (configurable only with PowerShell).</span></span> | <span data-ttu-id="344de-171">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-171">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-173">低整合性イメージをブロックする</span><span class="sxs-lookup"><span data-stu-id="344de-173">Block low integrity images</span></span> | <span data-ttu-id="344de-174">低整合性でマークされたイメージの読み込みを防止します。</span><span class="sxs-lookup"><span data-stu-id="344de-174">Prevents the loading of images marked with Low Integrity.</span></span> | <span data-ttu-id="344de-175">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-175">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes)|
| <span data-ttu-id="344de-177">リモート イメージをブロックする</span><span class="sxs-lookup"><span data-stu-id="344de-177">Block remote images</span></span> | <span data-ttu-id="344de-178">リモート デバイスからのイメージの読み込みを防止します。</span><span class="sxs-lookup"><span data-stu-id="344de-178">Prevents loading of images from remote devices.</span></span> | <span data-ttu-id="344de-179">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-179">App-level only</span></span> | <span data-ttu-id="344de-180">![チェック マークなし](/security/defender-endpoint/images/svg/check-no</span><span class="sxs-lookup"><span data-stu-id="344de-180">![Check mark no](/security/defender-endpoint/images/svg/check-no</span></span> |
| <span data-ttu-id="344de-181">信頼されていないフォントをブロックする</span><span class="sxs-lookup"><span data-stu-id="344de-181">Block untrusted fonts</span></span> | <span data-ttu-id="344de-182">システム フォント ディレクトリにインストールされていない GDI ベースのフォント (特に Web からのフォント) の読み込みを防止します。</span><span class="sxs-lookup"><span data-stu-id="344de-182">Prevents loading any GDI-based fonts not installed in the system fonts directory, notably fonts from the web.</span></span> | <span data-ttu-id="344de-183">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-183">App-level only</span></span> | <span data-ttu-id="344de-184">!include[チェック マーク はい](/security/defender-endpoint/images/svg/check-yes)</span><span class="sxs-lookup"><span data-stu-id="344de-184">!include[Check mark yes](/security/defender-endpoint/images/svg/check-yes)</span></span> |
| <span data-ttu-id="344de-185">コード整合性ガード</span><span class="sxs-lookup"><span data-stu-id="344de-185">Code integrity guard</span></span> | <span data-ttu-id="344de-186">Microsoft、WHQL、または上位によって署名されたイメージの読み込みを制限します。</span><span class="sxs-lookup"><span data-stu-id="344de-186">Restricts loading of images signed by Microsoft, WHQL, or higher.</span></span> <span data-ttu-id="344de-187">必要に応じて、Microsoft Store の署名済みイメージを許可できます。</span><span class="sxs-lookup"><span data-stu-id="344de-187">Can optionally allow Microsoft Store signed images.</span></span> | <span data-ttu-id="344de-188">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-188">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-190">拡張ポイントを無効にする</span><span class="sxs-lookup"><span data-stu-id="344de-190">Disable extension points</span></span> | <span data-ttu-id="344de-191">AppInit DLL、ウィンドウ フック、Winsock サービス プロバイダーなど、すべてのプロセスに DLL を挿入できるさまざまな機能拡張メカニズムを無効にします。</span><span class="sxs-lookup"><span data-stu-id="344de-191">Disables various extensibility mechanisms that allow DLL injection into all processes, such as AppInit DLLs, window hooks, and Winsock service providers.</span></span> | <span data-ttu-id="344de-192">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-192">App-level only</span></span> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-194">Win32k システム呼び出しを無効にする</span><span class="sxs-lookup"><span data-stu-id="344de-194">Disable Win32k system calls</span></span> | <span data-ttu-id="344de-195">アプリが Win32k システム呼び出しテーブルを使用しなくします。</span><span class="sxs-lookup"><span data-stu-id="344de-195">Prevents an app from using the Win32k system call table.</span></span> | <span data-ttu-id="344de-196">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-196">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-198">子プロセスを許可しない</span><span class="sxs-lookup"><span data-stu-id="344de-198">Don't allow child processes</span></span> | <span data-ttu-id="344de-199">アプリによる子プロセスの作成を防止します。</span><span class="sxs-lookup"><span data-stu-id="344de-199">Prevents an app from creating child processes.</span></span> | <span data-ttu-id="344de-200">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-200">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-202">アドレス フィルターのエクスポート (EAF)</span><span class="sxs-lookup"><span data-stu-id="344de-202">Export address filtering (EAF)</span></span> | <span data-ttu-id="344de-203">悪意のあるコードによって解決される危険な操作を検出します。</span><span class="sxs-lookup"><span data-stu-id="344de-203">Detects dangerous operations being resolved by malicious code.</span></span> <span data-ttu-id="344de-204">オプションで、エクスプロイトで一般的に使用されるモジュールによるアクセスを検証できます。</span><span class="sxs-lookup"><span data-stu-id="344de-204">Can optionally validate access by modules commonly used by exploits.</span></span> | <span data-ttu-id="344de-205">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-205">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-207">アドレス フィルターのインポート (IAF)</span><span class="sxs-lookup"><span data-stu-id="344de-207">Import address filtering (IAF)</span></span> | <span data-ttu-id="344de-208">悪意のあるコードによって解決される危険な操作を検出します。</span><span class="sxs-lookup"><span data-stu-id="344de-208">Detects dangerous operations being resolved by malicious code.</span></span> | <span data-ttu-id="344de-209">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-209">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-211">実行のシミュレーション (SimExec)</span><span class="sxs-lookup"><span data-stu-id="344de-211">Simulate execution (SimExec)</span></span> | <span data-ttu-id="344de-212">機密性の高い API への呼び出しが正当な呼び出し元に戻ります。</span><span class="sxs-lookup"><span data-stu-id="344de-212">Ensures that calls to sensitive APIs return to legitimate callers.</span></span> <span data-ttu-id="344de-213">32 ビット (x86) アプリケーションでのみ構成可能です。</span><span class="sxs-lookup"><span data-stu-id="344de-213">Only configurable for 32-bit (x86) applications.</span></span> <span data-ttu-id="344de-214">ACG と互換性がありません</span><span class="sxs-lookup"><span data-stu-id="344de-214">Not compatible with ACG</span></span> | <span data-ttu-id="344de-215">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-215">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-217">API 呼び出しの検証 (CallerCheck)</span><span class="sxs-lookup"><span data-stu-id="344de-217">Validate API invocation (CallerCheck)</span></span> | <span data-ttu-id="344de-218">機密性の高い API が正当な呼び出し元によって呼び出されるのを確認します。</span><span class="sxs-lookup"><span data-stu-id="344de-218">Ensures that sensitive APIs are invoked by legitimate callers.</span></span> <span data-ttu-id="344de-219">32 ビット (x86) アプリケーションでのみ構成可能です。</span><span class="sxs-lookup"><span data-stu-id="344de-219">Only configurable for 32-bit (x86) applications.</span></span> <span data-ttu-id="344de-220">ACG と互換性がありません</span><span class="sxs-lookup"><span data-stu-id="344de-220">Not compatible with ACG</span></span> | <span data-ttu-id="344de-221">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-221">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="344de-223">ハンドルの使用状況を検証する</span><span class="sxs-lookup"><span data-stu-id="344de-223">Validate handle usage</span></span> | <span data-ttu-id="344de-224">無効なハンドル参照に対して例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="344de-224">Causes an exception to be raised on any invalid handle references.</span></span> | <span data-ttu-id="344de-225">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-225">App-level only</span></span> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-227">イメージの依存関係の整合性を検証する</span><span class="sxs-lookup"><span data-stu-id="344de-227">Validate image dependency integrity</span></span> | <span data-ttu-id="344de-228">Windows イメージの依存関係の読み込み用にコード署名を適用します。</span><span class="sxs-lookup"><span data-stu-id="344de-228">Enforces code signing for Windows image dependency loading.</span></span> | <span data-ttu-id="344de-229">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-229">App-level only</span></span> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="344de-231">スタック整合性の検証 (StackPivot)</span><span class="sxs-lookup"><span data-stu-id="344de-231">Validate stack integrity (StackPivot)</span></span> | <span data-ttu-id="344de-232">機密性の高い API に対してスタックがリダイレクトされていないか確認します。</span><span class="sxs-lookup"><span data-stu-id="344de-232">Ensures that the stack hasn't been redirected for sensitive APIs.</span></span> <span data-ttu-id="344de-233">ACG と互換性がありません</span><span class="sxs-lookup"><span data-stu-id="344de-233">Not compatible with ACG</span></span> | <span data-ttu-id="344de-234">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-234">App-level only</span></span> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) |


> [!IMPORTANT]
> <span data-ttu-id="344de-236">[プログラムの設定] セクションにアプリを追加し、そこで個別の軽減設定を構成する場合は、[システム設定] セクションで指定したのと同じ軽減策の構成の上に **適用されます。**</span><span class="sxs-lookup"><span data-stu-id="344de-236">If you add an app to the **Program settings** section and configure individual mitigation settings there, they will be honored above the configuration for the same mitigations specified in the **System settings** section.</span></span> <span data-ttu-id="344de-237">次のマトリックスと例は、既定値の動作を説明するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="344de-237">The following matrix and examples help to illustrate how defaults work:</span></span>
>
>
> | <span data-ttu-id="344de-238">[プログラムの **設定] で有効**</span><span class="sxs-lookup"><span data-stu-id="344de-238">Enabled in **Program settings**</span></span> | <span data-ttu-id="344de-239">システム設定 **で有効**</span><span class="sxs-lookup"><span data-stu-id="344de-239">Enabled in **System settings**</span></span> | <span data-ttu-id="344de-240">動作</span><span class="sxs-lookup"><span data-stu-id="344de-240">Behavior</span></span> |
> | ------------------------------- | ------------------------------ | -------- |
> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) | <span data-ttu-id="344de-243">[プログラムの設定 **] で定義されている**</span><span class="sxs-lookup"><span data-stu-id="344de-243">As defined in **Program settings**</span></span> |
> | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) | <span data-ttu-id="344de-246">[プログラムの設定 **] で定義されている**</span><span class="sxs-lookup"><span data-stu-id="344de-246">As defined in **Program settings**</span></span> |
> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) | <span data-ttu-id="344de-249">[システム設定] **で定義されている**</span><span class="sxs-lookup"><span data-stu-id="344de-249">As defined in **System settings**</span></span> |
> | ![チェック マークなし](/security/defender-endpoint/images/svg/check-no) | ![チェック マークはい](/security/defender-endpoint/images/svg/check-yes) | <span data-ttu-id="344de-252">[既定のオプションを使用 **する] で定義されている既定値**</span><span class="sxs-lookup"><span data-stu-id="344de-252">Default as defined in **Use default** option</span></span> |
>
>
>
> * <span data-ttu-id="344de-253">**例 1**</span><span class="sxs-lookup"><span data-stu-id="344de-253">**Example 1**</span></span>
>
>    <span data-ttu-id="344de-254">ミカエルは、[**システム設定] セクションのデータ実行防止 (DEP)** を既定で **[オフ] に構成します**。 </span><span class="sxs-lookup"><span data-stu-id="344de-254">Mikael configures **Data Execution Prevention (DEP)** in the **System settings** section to be **Off by default**.</span></span>
>
>    <span data-ttu-id="344de-255">その後、ミカエルは[プログラム *test.exe]* セクションに **アプリの設定を追加** します。</span><span class="sxs-lookup"><span data-stu-id="344de-255">Mikael then adds the app *test.exe* to the **Program settings** section.</span></span> <span data-ttu-id="344de-256">そのアプリのオプションの [データ実行防止 **(DEP)]** で、[システム設定の上書き] オプションを有効にし、スイッチを [オン] に **設定します**。</span><span class="sxs-lookup"><span data-stu-id="344de-256">In the options for that app, under **Data Execution Prevention (DEP)**, he enables the **Override system settings** option and sets the switch to **On**.</span></span> <span data-ttu-id="344de-257">[プログラムの設定] セクションに他の **アプリは表示** されません。</span><span class="sxs-lookup"><span data-stu-id="344de-257">There are no other apps listed in the **Program settings** section.</span></span>
>
>    <span data-ttu-id="344de-258">結果は、DEP が有効になるのは、次の *test.exe。*</span><span class="sxs-lookup"><span data-stu-id="344de-258">The result will be that DEP only will be enabled for *test.exe*.</span></span> <span data-ttu-id="344de-259">他のすべてのアプリには DEP が適用されません。</span><span class="sxs-lookup"><span data-stu-id="344de-259">All other apps will not have DEP applied.</span></span>
>
>
> * <span data-ttu-id="344de-260">**例 2**</span><span class="sxs-lookup"><span data-stu-id="344de-260">**Example 2**</span></span>
>
>    <span data-ttu-id="344de-261">Josie は、[システム設定] セクションのデータ実行防止 **(DEP)** を既定で **[オフ] に構成します**。</span><span class="sxs-lookup"><span data-stu-id="344de-261">Josie configures **Data Execution Prevention (DEP)** in the **System settings** section to be **Off by default**.</span></span>
>
>    <span data-ttu-id="344de-262">次に、Josie は[ *プログラム* test.exe設定] セクションにアプリ **の設定を追加** します。</span><span class="sxs-lookup"><span data-stu-id="344de-262">Josie then adds the app *test.exe* to the **Program settings** section.</span></span> <span data-ttu-id="344de-263">そのアプリのオプションの [データ実行防止 **(DEP)]** で、[システム設定の上書き] オプションを有効にし、スイッチを [オン] に **設定します**。</span><span class="sxs-lookup"><span data-stu-id="344de-263">In the options for that app, under **Data Execution Prevention (DEP)**, she enables the **Override system settings** option and sets the switch to **On**.</span></span>
>
>    <span data-ttu-id="344de-264">Josie は、アプリmiles.exeを [プログラムの設定] セクションに追加し、コントロール フロー ガード **(CFG)** を On に構成 **します**。</span><span class="sxs-lookup"><span data-stu-id="344de-264">Josie also adds the app *miles.exe* to the **Program settings** section and configures **Control flow guard (CFG)** to **On**.</span></span> <span data-ttu-id="344de-265">DEP の [システム設定の **上書** き] オプションや、そのアプリのその他の軽減策を有効にしない。</span><span class="sxs-lookup"><span data-stu-id="344de-265">She doesn't enable the **Override system settings** option for DEP or any other mitigations for that app.</span></span>
>
>    <span data-ttu-id="344de-266">その結果、DEP が有効に設定 *test.exe。*</span><span class="sxs-lookup"><span data-stu-id="344de-266">The result will be that DEP will be enabled for *test.exe*.</span></span> <span data-ttu-id="344de-267">DEP は、他のアプリ (このアプリを含む)*に対miles.exe。*</span><span class="sxs-lookup"><span data-stu-id="344de-267">DEP will not be enabled for any other app, including *miles.exe*.</span></span> <span data-ttu-id="344de-268">CFG は、ユーザーに対 *してmiles.exe。*</span><span class="sxs-lookup"><span data-stu-id="344de-268">CFG will be enabled for *miles.exe*.</span></span>

> [!NOTE]
> <span data-ttu-id="344de-269">この記事で問題が見つかった場合は、Windows Server/Windows クライアント パートナーに直接報告するか、お客様の国の Microsoft テクニカル サポート番号を使用できます。</span><span class="sxs-lookup"><span data-stu-id="344de-269">If you have found any issues in this article, you can report it directly to a Windows Server/Windows Client partner or use the Microsoft technical support numbers for your country.</span></span>

### <a name="configure-system-level-mitigations-with-the-windows-security-app"></a><span data-ttu-id="344de-270">Windows セキュリティ アプリを使用してシステム レベルの軽減策を構成する</span><span class="sxs-lookup"><span data-stu-id="344de-270">Configure system-level mitigations with the Windows Security app</span></span>

1. <span data-ttu-id="344de-271">タスク バーでシールド アイコンを選択するか、Defender のスタート メニューを検索して、Windows セキュリティ アプリを開 **きます**。</span><span class="sxs-lookup"><span data-stu-id="344de-271">Open the Windows Security app by selecting the shield icon in the task bar or searching the start menu for **Defender**.</span></span>

2. <span data-ttu-id="344de-272">[App **& コントロール** ] タイル (または左側のメニュー バーのアプリ アイコン) を選択し、[エクスプロイト保護] **を選択します**。</span><span class="sxs-lookup"><span data-stu-id="344de-272">Select the **App & browser control** tile (or the app icon on the left menu bar) and then select **Exploit protection**.</span></span>

3. <span data-ttu-id="344de-273">[システム **設定] セクション** で、構成する軽減策を見つけて、次のいずれかを選択します。</span><span class="sxs-lookup"><span data-stu-id="344de-273">Under the **System settings** section, find the mitigation you want to configure and select one of the following.</span></span> <span data-ttu-id="344de-274">[プログラムの設定] セクションで個別に構成されていないアプリは、ここで構成された設定を使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-274">Apps that aren't configured individually in the **Program settings** section will use the settings configured here:</span></span>
   * <span data-ttu-id="344de-275">**[既定でオン**] -この軽減策がアプリ固有の [プログラムの設定] セクションで設定されているアプリに対して **軽減策が有効** になっています。</span><span class="sxs-lookup"><span data-stu-id="344de-275">**On by default** - The mitigation is *enabled* for apps that don't have this mitigation set in the app-specific **Program settings** section</span></span>
   * <span data-ttu-id="344de-276">**既定ではオフ**- この軽減策がアプリ固有の [プログラムの設定] セクションで設定されているアプリでは、軽減策 **は無効** になっています。</span><span class="sxs-lookup"><span data-stu-id="344de-276">**Off by default** - The mitigation is *disabled* for apps that don't have this mitigation set in the app-specific **Program settings** section</span></span>
   * <span data-ttu-id="344de-277">**Use default** - 軽減策は、Windows 10 インストールによって設定される既定の構成に応じて有効または無効になります。既定値 (**On** または **Off**) は、軽減策ごとに既定のラベルを使用するの **横に常** に指定されます。</span><span class="sxs-lookup"><span data-stu-id="344de-277">**Use default** - The mitigation is either enabled or disabled, depending on the default configuration that is set up by Windows 10 installation; the default value (**On** or **Off**) is always specified next to the **Use default** label for each mitigation</span></span>

   > [!NOTE]
   > <span data-ttu-id="344de-278">一部の設定を変更すると、[ユーザー アカウント制御] ウィンドウが表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="344de-278">You may see a User Account Control window when changing some settings.</span></span> <span data-ttu-id="344de-279">管理者資格情報を入力して設定を適用します。</span><span class="sxs-lookup"><span data-stu-id="344de-279">Enter administrator credentials to apply the setting.</span></span>

   <span data-ttu-id="344de-280">一部の設定を変更するには、再起動が必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="344de-280">Changing some settings may require a restart.</span></span>

4. <span data-ttu-id="344de-281">構成するシステム レベルの軽減策すべてについて、この手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="344de-281">Repeat this for all the system-level mitigations you want to configure.</span></span>

5. <span data-ttu-id="344de-282">[プログラムの設定 **] セクションに** 移動し、軽減策を適用するアプリを選択します。</span><span class="sxs-lookup"><span data-stu-id="344de-282">Go to the **Program settings** section and choose the app you want to apply mitigations to:</span></span>

   1. <span data-ttu-id="344de-283">構成するアプリが既に一覧表示されている場合は、そのアプリを選択し、[編集] を選択 **します。**</span><span class="sxs-lookup"><span data-stu-id="344de-283">If the app you want to configure is already listed, select it and then select **Edit**</span></span>
   2. <span data-ttu-id="344de-284">アプリが一覧に表示されていない場合は、リストの上部にある [プログラムの追加] を選択 **して** カスタマイズし、アプリの追加方法を選択します。</span><span class="sxs-lookup"><span data-stu-id="344de-284">If the app isn't listed, at the top of the list select **Add program to customize** and then choose how you want to add the app:</span></span>
      * <span data-ttu-id="344de-285">[ **プログラム名で追加] を** 使用して、その名前を持つ実行中のプロセスに軽減策を適用します。</span><span class="sxs-lookup"><span data-stu-id="344de-285">Use **Add by program name** to have the mitigation applied to any running process with that name.</span></span> <span data-ttu-id="344de-286">拡張子を持つファイルを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="344de-286">You must specify a file with an extension.</span></span> <span data-ttu-id="344de-287">完全なパスを入力すると、その場所に名前が付くアプリにのみ軽減策を制限できます。</span><span class="sxs-lookup"><span data-stu-id="344de-287">You can enter a full path to limit the mitigation to only the app with that name in that location.</span></span>
      * <span data-ttu-id="344de-288">標準の Windows Explorer **ファイル ピッカー** ウィンドウを使用して、目的のファイルを検索して選択するには、[厳密なファイル パスを選択する] を使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-288">Use **Choose exact file path** to use a standard Windows Explorer file picker window to find and select the file you want.</span></span>

6. <span data-ttu-id="344de-289">アプリを選択すると、適用できるすべての軽減策の一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="344de-289">After selecting the app, you'll see a list of all the mitigations that can be applied.</span></span> <span data-ttu-id="344de-290">軽減策を有効にするには、チェック ボックスをオンにしてスライダーを [オン] に **変更します**。</span><span class="sxs-lookup"><span data-stu-id="344de-290">To enable the mitigation, select the check box and then change the slider to **On**.</span></span> <span data-ttu-id="344de-291">その他のオプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="344de-291">Select any additional options.</span></span> <span data-ttu-id="344de-292">[監査] **を選択** すると、監査モードでのみ軽減策が適用されます。</span><span class="sxs-lookup"><span data-stu-id="344de-292">Choosing **Audit** will apply the mitigation in audit mode only.</span></span> <span data-ttu-id="344de-293">プロセスまたはアプリを再起動する必要がある場合、または Windows を再起動する必要がある場合に通知されます。</span><span class="sxs-lookup"><span data-stu-id="344de-293">You will be notified if you need to restart the process or app, or if you need to restart Windows.</span></span>

7. <span data-ttu-id="344de-294">構成するアプリと軽減策について、これらの手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="344de-294">Repeat these steps for all the apps and mitigations you want to configure.</span></span> <span data-ttu-id="344de-295">構成 **の設定** が完了したら、[適用] を選択します。</span><span class="sxs-lookup"><span data-stu-id="344de-295">Select **Apply** when you're done setting up your configuration.</span></span>

<span data-ttu-id="344de-296">これで、これらの [設定を XML ファイルとしてエクスポートするか、](import-export-exploit-protection-emet-xml.md) アプリ固有の軽減策の構成を続行できます。</span><span class="sxs-lookup"><span data-stu-id="344de-296">You can now [export these settings as an XML file](import-export-exploit-protection-emet-xml.md) or continue on to configure app-specific mitigations.</span></span>

<span data-ttu-id="344de-297">構成を XML ファイルとしてエクスポートすると、構成を 1 つのデバイスから他のデバイスにコピーできます。</span><span class="sxs-lookup"><span data-stu-id="344de-297">Exporting the configuration as an XML file allows you to copy the configuration from one device onto other devices.</span></span>

## <a name="powershell-reference"></a><span data-ttu-id="344de-298">PowerShell リファレンス</span><span class="sxs-lookup"><span data-stu-id="344de-298">PowerShell reference</span></span>

<span data-ttu-id="344de-299">Windows セキュリティ アプリを使用してエクスプロイト保護を構成するか、PowerShell コマンドレットを使用できます。</span><span class="sxs-lookup"><span data-stu-id="344de-299">You can use the Windows Security app to configure Exploit protection, or you can use PowerShell cmdlets.</span></span>

<span data-ttu-id="344de-300">PowerShell または Windows セキュリティを使用するかどうかに関係なく、最近変更された構成設定は常に適用されます。</span><span class="sxs-lookup"><span data-stu-id="344de-300">The configuration settings that were most recently modified will always be applied - regardless of whether you use PowerShell or Windows Security.</span></span> <span data-ttu-id="344de-301">つまり、アプリを使用して軽減策を構成する場合は、PowerShell を使用して同じ軽減策を構成すると、アプリが更新され、PowerShell で行った変更が表示されます。</span><span class="sxs-lookup"><span data-stu-id="344de-301">This means that if you use the app to configure a mitigation, then use PowerShell to configure the same mitigation, the app will update to show the changes you made with PowerShell.</span></span> <span data-ttu-id="344de-302">その後、アプリを使用して軽減策を再び変更する場合は、その変更が適用されます。</span><span class="sxs-lookup"><span data-stu-id="344de-302">If you were to then use the app to change the mitigation again, that change would apply.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="344de-303">グループ ポリシーを使用してデバイスに展開された変更は、ローカル構成を上書きします。</span><span class="sxs-lookup"><span data-stu-id="344de-303">Any changes that are deployed to a device through Group Policy will override the local configuration.</span></span> <span data-ttu-id="344de-304">初期構成を設定する場合は、グループ ポリシー構成を適用しないデバイスを使用して、変更が上書きされていないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="344de-304">When setting up an initial configuration, use a device that will not have a Group Policy configuration applied to ensure your changes aren't overridden.</span></span>

<span data-ttu-id="344de-305">PowerShell 動詞またはコマンドレット `Get` `Set` を使用できます `ProcessMitigation` 。</span><span class="sxs-lookup"><span data-stu-id="344de-305">You can use the PowerShell verb `Get` or `Set` with the cmdlet `ProcessMitigation`.</span></span> <span data-ttu-id="344de-306">Using は、デバイスで有効になっている軽減策の現在の構成状態を一覧表示します。コマンドレットとアプリの exe を追加して、そのアプリの軽減策 `Get` `-Name` を確認します。</span><span class="sxs-lookup"><span data-stu-id="344de-306">Using `Get` will list the current configuration status of any mitigations that have been enabled on the device - add the `-Name` cmdlet and app exe to see mitigations for just that app:</span></span>

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> <span data-ttu-id="344de-307">構成されていないシステム レベルの軽減策では、の状態が表示されます `NOTSET` 。</span><span class="sxs-lookup"><span data-stu-id="344de-307">System-level mitigations that have not been configured will show a status of `NOTSET`.</span></span>
>
> <span data-ttu-id="344de-308">システム レベルの設定では `NOTSET` 、その軽減策の既定の設定が適用されているを示します。</span><span class="sxs-lookup"><span data-stu-id="344de-308">For system-level settings, `NOTSET` indicates the default setting for that mitigation has been applied.</span></span>
>
> <span data-ttu-id="344de-309">アプリ レベルの設定では、 `NOTSET` 軽減策のシステム レベルの設定が適用されます。</span><span class="sxs-lookup"><span data-stu-id="344de-309">For app-level settings, `NOTSET` indicates the system-level setting for the mitigation will be applied.</span></span>
>
> <span data-ttu-id="344de-310">各システム レベルの軽減策の既定の設定は、Windows セキュリティで確認できます。</span><span class="sxs-lookup"><span data-stu-id="344de-310">The default setting for each system-level mitigation can be seen in the Windows Security.</span></span>

<span data-ttu-id="344de-311">各 `Set` 軽減策を次の形式で構成する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-311">Use `Set` to configure each mitigation in the following format:</span></span>

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

<span data-ttu-id="344de-312">ここで、</span><span class="sxs-lookup"><span data-stu-id="344de-312">Where:</span></span>

* <span data-ttu-id="344de-313">\<Scope>:</span><span class="sxs-lookup"><span data-stu-id="344de-313">\<Scope>:</span></span>
    * <span data-ttu-id="344de-314">`-Name` を使用して、軽減策を特定のアプリに適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="344de-314">`-Name` to indicate the mitigations should be applied to a specific app.</span></span> <span data-ttu-id="344de-315">このフラグの後にアプリの実行可能ファイルを指定します。</span><span class="sxs-lookup"><span data-stu-id="344de-315">Specify the app's executable after this flag.</span></span>
    * <span data-ttu-id="344de-316">`-System` 軽減策をシステム レベルで適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="344de-316">`-System` to indicate the mitigation should be applied at the system level</span></span>
- <span data-ttu-id="344de-317">\<Action>:</span><span class="sxs-lookup"><span data-stu-id="344de-317">\<Action>:</span></span>
    * <span data-ttu-id="344de-318">`-Enable` を使用して軽減策を有効にする</span><span class="sxs-lookup"><span data-stu-id="344de-318">`-Enable` to enable the mitigation</span></span>
    * <span data-ttu-id="344de-319">`-Disable` 軽減策を無効にするには</span><span class="sxs-lookup"><span data-stu-id="344de-319">`-Disable` to disable the mitigation</span></span>
* <span data-ttu-id="344de-320">\<Mitigation>:</span><span class="sxs-lookup"><span data-stu-id="344de-320">\<Mitigation>:</span></span>
    * <span data-ttu-id="344de-321">下の軽減コマンドレットの表で定義されている[](#cmdlets-table)軽減のコマンドレットと、サブオプション (スペースで囲まれた) を指定します。</span><span class="sxs-lookup"><span data-stu-id="344de-321">The mitigation's cmdlet as defined in the [mitigation cmdlets table](#cmdlets-table) below, along with any suboptions (surrounded with spaces).</span></span> <span data-ttu-id="344de-322">各軽減策はコンマで区切られます。</span><span class="sxs-lookup"><span data-stu-id="344de-322">Each mitigation is separated with a comma.</span></span>

<span data-ttu-id="344de-323">たとえば、ATL サンク エミュレーションを使用してデータ実行防止 (DEP) 軽減策を有効にし、フォルダー *C:\Apps\LOB\tests* の *testing.exe* という実行可能ファイルに対して有効にし、その実行可能ファイルが子プロセスを作成しなからせた場合は、次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-323">For example, to enable the Data Execution Prevention (DEP) mitigation with ATL thunk emulation and for an executable called *testing.exe* in the folder *C:\Apps\LOB\tests*, and to prevent that executable from creating child processes, you'd use the following command:</span></span>

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> <span data-ttu-id="344de-324">各軽減オプションをコンマで区切ります。</span><span class="sxs-lookup"><span data-stu-id="344de-324">Separate each mitigation option with commas.</span></span>

<span data-ttu-id="344de-325">システム レベルで DEP を適用する場合は、次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-325">If you wanted to apply DEP at the system level, you'd use the following command:</span></span>

```PowerShell
Set-Processmitigation -System -Enable DEP
```

<span data-ttu-id="344de-326">軽減策を無効にするには、 に置き換 `-Enable` える `-Disable` 必要があります。</span><span class="sxs-lookup"><span data-stu-id="344de-326">To disable mitigations, you can replace `-Enable` with `-Disable`.</span></span> <span data-ttu-id="344de-327">ただし、アプリ レベルの軽減策では、そのアプリに対してだけ軽減策を強制的に無効にします。</span><span class="sxs-lookup"><span data-stu-id="344de-327">However, for app-level mitigations, this will force the mitigation to be disabled only for that app.</span></span>

<span data-ttu-id="344de-328">軽減策をシステムの既定に戻す必要がある場合は、次の例に示すコマンドレットも含 `-Remove` める必要があります。</span><span class="sxs-lookup"><span data-stu-id="344de-328">If you need to restore the mitigation back to the system default, you need to include the `-Remove` cmdlet as well, as in the following example:</span></span>

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

<span data-ttu-id="344de-329">一部の軽減策を監査モードに設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="344de-329">You can also set some mitigations to audit mode.</span></span> <span data-ttu-id="344de-330">軽減策に PowerShell コマンドレットを使用する代わりに、以下の軽減コマンドレットの表で指定されている監査モード[コマンドレットを使用](#cmdlets-table)します。</span><span class="sxs-lookup"><span data-stu-id="344de-330">Instead of using the PowerShell cmdlet for the mitigation, use the **Audit mode** cmdlet as specified in the [mitigation cmdlets table](#cmdlets-table) below.</span></span>

<span data-ttu-id="344de-331">たとえば、以前使用したアプリケーションの監査モードで任意の Code Guard (ACG) を有効にするには、次 *testing.exe* コマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-331">For example, to enable Arbitrary Code Guard (ACG) in audit mode for the *testing.exe* used previously, you'd use the following command:</span></span>

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable AuditDynamicCode
```

<span data-ttu-id="344de-332">監査モードを無効にするには、同じコマンドを使用しますが、に置き換 `-Enable` えます `-Disable` 。</span><span class="sxs-lookup"><span data-stu-id="344de-332">You can disable audit mode by using the same command but replacing `-Enable` with `-Disable`.</span></span>

### <a name="powershell-reference-table"></a><span data-ttu-id="344de-333">PowerShell リファレンス テーブル</span><span class="sxs-lookup"><span data-stu-id="344de-333">PowerShell reference table</span></span>

<span data-ttu-id="344de-334">次の表に、各軽減策を構成するために使用できる PowerShell コマンドレット (および関連する監査モード コマンドレット) の一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="344de-334">This table lists the PowerShell cmdlets (and associated audit mode cmdlet) that can be used to configure each mitigation.</span></span>

<a id="cmdlets-table"></a>

| <span data-ttu-id="344de-335">軽減策</span><span class="sxs-lookup"><span data-stu-id="344de-335">Mitigation</span></span> | <span data-ttu-id="344de-336">適用対象</span><span class="sxs-lookup"><span data-stu-id="344de-336">Applies to</span></span> | <span data-ttu-id="344de-337">PowerShell コマンドレット</span><span class="sxs-lookup"><span data-stu-id="344de-337">PowerShell cmdlets</span></span> | <span data-ttu-id="344de-338">監査モードのコマンドレット</span><span class="sxs-lookup"><span data-stu-id="344de-338">Audit mode cmdlet</span></span> |
| ---------- | ---------- | ------------------ | ----------------- |
| <span data-ttu-id="344de-339">制御フロー ガード (CFG)</span><span class="sxs-lookup"><span data-stu-id="344de-339">Control flow guard (CFG)</span></span> | <span data-ttu-id="344de-340">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-340">System and app-level</span></span> |   <span data-ttu-id="344de-341">CFG、StrictCFG、SuppressExports</span><span class="sxs-lookup"><span data-stu-id="344de-341">CFG,   StrictCFG,   SuppressExports</span></span>  | <span data-ttu-id="344de-342">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-342">Audit not available</span></span> |
| <span data-ttu-id="344de-343">データ実行防止 (DEP)</span><span class="sxs-lookup"><span data-stu-id="344de-343">Data Execution Prevention (DEP)</span></span> | <span data-ttu-id="344de-344">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-344">System and app-level</span></span> |   <span data-ttu-id="344de-345">DEP、EmulateAtlThunks</span><span class="sxs-lookup"><span data-stu-id="344de-345">DEP,   EmulateAtlThunks</span></span>  | <span data-ttu-id="344de-346">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-346">Audit not available</span></span> |
| <span data-ttu-id="344de-347">イメージのランダム化を強制する (必須 ASLR)</span><span class="sxs-lookup"><span data-stu-id="344de-347">Force randomization for images (Mandatory ASLR)</span></span> | <span data-ttu-id="344de-348">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-348">System and app-level</span></span> |   <span data-ttu-id="344de-349">ForceRelocateImages</span><span class="sxs-lookup"><span data-stu-id="344de-349">ForceRelocateImages</span></span>  | <span data-ttu-id="344de-350">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-350">Audit not available</span></span> |
| <span data-ttu-id="344de-351">メモリ割り当てをランダム化する (ボトムアップ ASLR)</span><span class="sxs-lookup"><span data-stu-id="344de-351">Randomize memory allocations (Bottom-Up ASLR)</span></span> | <span data-ttu-id="344de-352">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-352">System and app-level</span></span> |   <span data-ttu-id="344de-353">BottomUp、HighEntropy</span><span class="sxs-lookup"><span data-stu-id="344de-353">BottomUp,   HighEntropy</span></span>  | <span data-ttu-id="344de-354">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-354">Audit not available</span></span> |
| <span data-ttu-id="344de-355">例外チェーンの検証 (SEHOP)</span><span class="sxs-lookup"><span data-stu-id="344de-355">Validate exception chains (SEHOP)</span></span> | <span data-ttu-id="344de-356">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-356">System and app-level</span></span> |   <span data-ttu-id="344de-357">SEHOP、SEHOPTelemetry</span><span class="sxs-lookup"><span data-stu-id="344de-357">SEHOP,   SEHOPTelemetry</span></span>  | <span data-ttu-id="344de-358">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-358">Audit not available</span></span> |
| <span data-ttu-id="344de-359">ヒープ整合性の検証</span><span class="sxs-lookup"><span data-stu-id="344de-359">Validate heap integrity</span></span> | <span data-ttu-id="344de-360">システムとアプリ レベル</span><span class="sxs-lookup"><span data-stu-id="344de-360">System and app-level</span></span> |   <span data-ttu-id="344de-361">TerminateOnError</span><span class="sxs-lookup"><span data-stu-id="344de-361">TerminateOnError</span></span>  | <span data-ttu-id="344de-362">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-362">Audit not available</span></span> |
| <span data-ttu-id="344de-363">任意のコード ガード (ACG)</span><span class="sxs-lookup"><span data-stu-id="344de-363">Arbitrary code guard (ACG)</span></span> | <span data-ttu-id="344de-364">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-364">App-level only</span></span> |   <span data-ttu-id="344de-365">DynamicCode</span><span class="sxs-lookup"><span data-stu-id="344de-365">DynamicCode</span></span>  |   <span data-ttu-id="344de-366">AuditDynamicCode</span><span class="sxs-lookup"><span data-stu-id="344de-366">AuditDynamicCode</span></span> |
| <span data-ttu-id="344de-367">低整合性イメージをブロックする</span><span class="sxs-lookup"><span data-stu-id="344de-367">Block low integrity images</span></span> | <span data-ttu-id="344de-368">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-368">App-level only</span></span> |   <span data-ttu-id="344de-369">BlockLowLabel</span><span class="sxs-lookup"><span data-stu-id="344de-369">BlockLowLabel</span></span>  |   <span data-ttu-id="344de-370">AuditImageLoad</span><span class="sxs-lookup"><span data-stu-id="344de-370">AuditImageLoad</span></span> |
| <span data-ttu-id="344de-371">リモート イメージをブロックする</span><span class="sxs-lookup"><span data-stu-id="344de-371">Block remote images</span></span> | <span data-ttu-id="344de-372">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-372">App-level only</span></span> |   <span data-ttu-id="344de-373">BlockRemoteImages</span><span class="sxs-lookup"><span data-stu-id="344de-373">BlockRemoteImages</span></span>  | <span data-ttu-id="344de-374">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-374">Audit not available</span></span> |
| <span data-ttu-id="344de-375">信頼されていないフォントをブロックする</span><span class="sxs-lookup"><span data-stu-id="344de-375">Block untrusted fonts</span></span> | <span data-ttu-id="344de-376">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-376">App-level only</span></span> |   <span data-ttu-id="344de-377">DisableNonSystemFonts</span><span class="sxs-lookup"><span data-stu-id="344de-377">DisableNonSystemFonts</span></span>  |   <span data-ttu-id="344de-378">AuditFont, FontAuditOnly</span><span class="sxs-lookup"><span data-stu-id="344de-378">AuditFont,   FontAuditOnly</span></span> |
| <span data-ttu-id="344de-379">コード整合性ガード</span><span class="sxs-lookup"><span data-stu-id="344de-379">Code integrity guard</span></span> | <span data-ttu-id="344de-380">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-380">App-level only</span></span> |   <span data-ttu-id="344de-381">BlockNonMicrosoftSigned,AllowStoreSigned</span><span class="sxs-lookup"><span data-stu-id="344de-381">BlockNonMicrosoftSigned,   AllowStoreSigned</span></span>  |   <span data-ttu-id="344de-382">AuditMicrosoftSigned、AuditStoreSigned</span><span class="sxs-lookup"><span data-stu-id="344de-382">AuditMicrosoftSigned,   AuditStoreSigned</span></span> |
| <span data-ttu-id="344de-383">拡張ポイントを無効にする</span><span class="sxs-lookup"><span data-stu-id="344de-383">Disable extension points</span></span> | <span data-ttu-id="344de-384">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-384">App-level only</span></span> |   <span data-ttu-id="344de-385">ExtensionPoint</span><span class="sxs-lookup"><span data-stu-id="344de-385">ExtensionPoint</span></span>  | <span data-ttu-id="344de-386">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-386">Audit not available</span></span> |
| <span data-ttu-id="344de-387">Win32k システム呼び出しを無効にする</span><span class="sxs-lookup"><span data-stu-id="344de-387">Disable Win32k system calls</span></span> | <span data-ttu-id="344de-388">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-388">App-level only</span></span> |   <span data-ttu-id="344de-389">DisableWin32kSystemCalls</span><span class="sxs-lookup"><span data-stu-id="344de-389">DisableWin32kSystemCalls</span></span>  |   <span data-ttu-id="344de-390">AuditSystemCall</span><span class="sxs-lookup"><span data-stu-id="344de-390">AuditSystemCall</span></span> |
| <span data-ttu-id="344de-391">子プロセスを許可しない</span><span class="sxs-lookup"><span data-stu-id="344de-391">Do not allow child processes</span></span> | <span data-ttu-id="344de-392">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-392">App-level only</span></span> |   <span data-ttu-id="344de-393">DisallowChildProcessCreation</span><span class="sxs-lookup"><span data-stu-id="344de-393">DisallowChildProcessCreation</span></span>  |   <span data-ttu-id="344de-394">AuditChildProcess</span><span class="sxs-lookup"><span data-stu-id="344de-394">AuditChildProcess</span></span> |
| <span data-ttu-id="344de-395">アドレス フィルターのエクスポート (EAF)</span><span class="sxs-lookup"><span data-stu-id="344de-395">Export address filtering (EAF)</span></span> | <span data-ttu-id="344de-396">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-396">App-level only</span></span> |   <span data-ttu-id="344de-397">EnableExportAddressFilterPlus, EnableExportAddressFilter <a href="#r1" id="t1"> \[ 1 \] </a></span><span class="sxs-lookup"><span data-stu-id="344de-397">EnableExportAddressFilterPlus,   EnableExportAddressFilter  <a href="#r1" id="t1">\[1\]</a></span></span> | <span data-ttu-id="344de-398">監査は使用<a href="#r2" id="t2"> \[ できません \] 2</a></span><span class="sxs-lookup"><span data-stu-id="344de-398">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="344de-399">アドレス フィルターのインポート (IAF)</span><span class="sxs-lookup"><span data-stu-id="344de-399">Import address filtering (IAF)</span></span> | <span data-ttu-id="344de-400">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-400">App-level only</span></span> |   <span data-ttu-id="344de-401">EnableImportAddressFilter</span><span class="sxs-lookup"><span data-stu-id="344de-401">EnableImportAddressFilter</span></span>  | <span data-ttu-id="344de-402">監査は使用<a href="#r2" id="t2"> \[ できません \] 2</a></span><span class="sxs-lookup"><span data-stu-id="344de-402">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="344de-403">実行のシミュレーション (SimExec)</span><span class="sxs-lookup"><span data-stu-id="344de-403">Simulate execution (SimExec)</span></span> | <span data-ttu-id="344de-404">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-404">App-level only</span></span> |   <span data-ttu-id="344de-405">EnableRopSimExec</span><span class="sxs-lookup"><span data-stu-id="344de-405">EnableRopSimExec</span></span>  | <span data-ttu-id="344de-406">監査は使用<a href="#r2" id="t2"> \[ できません \] 2</a></span><span class="sxs-lookup"><span data-stu-id="344de-406">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="344de-407">API 呼び出しの検証 (CallerCheck)</span><span class="sxs-lookup"><span data-stu-id="344de-407">Validate API invocation (CallerCheck)</span></span> | <span data-ttu-id="344de-408">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-408">App-level only</span></span> |   <span data-ttu-id="344de-409">EnableRopCallerCheck</span><span class="sxs-lookup"><span data-stu-id="344de-409">EnableRopCallerCheck</span></span>  | <span data-ttu-id="344de-410">監査は使用<a href="#r2" id="t2"> \[ できません \] 2</a></span><span class="sxs-lookup"><span data-stu-id="344de-410">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="344de-411">ハンドルの使用状況を検証する</span><span class="sxs-lookup"><span data-stu-id="344de-411">Validate handle usage</span></span> | <span data-ttu-id="344de-412">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-412">App-level only</span></span> |   <span data-ttu-id="344de-413">StrictHandle</span><span class="sxs-lookup"><span data-stu-id="344de-413">StrictHandle</span></span>  | <span data-ttu-id="344de-414">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-414">Audit not available</span></span> |
| <span data-ttu-id="344de-415">イメージの依存関係の整合性を検証する</span><span class="sxs-lookup"><span data-stu-id="344de-415">Validate image dependency integrity</span></span> | <span data-ttu-id="344de-416">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-416">App-level only</span></span> |   <span data-ttu-id="344de-417">EnforceModuleDepencySigning</span><span class="sxs-lookup"><span data-stu-id="344de-417">EnforceModuleDepencySigning</span></span>  | <span data-ttu-id="344de-418">監査が利用できない</span><span class="sxs-lookup"><span data-stu-id="344de-418">Audit not available</span></span> |
| <span data-ttu-id="344de-419">スタック整合性の検証 (StackPivot)</span><span class="sxs-lookup"><span data-stu-id="344de-419">Validate stack integrity (StackPivot)</span></span> | <span data-ttu-id="344de-420">アプリ レベルのみ</span><span class="sxs-lookup"><span data-stu-id="344de-420">App-level only</span></span> |   <span data-ttu-id="344de-421">EnableRopStackPivot</span><span class="sxs-lookup"><span data-stu-id="344de-421">EnableRopStackPivot</span></span>  | <span data-ttu-id="344de-422">監査は使用<a href="#r2" id="t2"> \[ できません \] 2</a></span><span class="sxs-lookup"><span data-stu-id="344de-422">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |

<span data-ttu-id="344de-423"><a href="#t1" id="r1"> \[ 1 \] </a>: プロセスの DLL の EAF モジュールを有効にするには、次の形式を使用します。</span><span class="sxs-lookup"><span data-stu-id="344de-423"><a href="#t1" id="r1">\[1\]</a>: Use the following format to enable EAF modules for dlls for a process:</span></span>

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```

<span data-ttu-id="344de-424"><a href="#t2" id="r2"> \[ 2 \] </a>: この軽減策の監査は、PowerShell コマンドレットでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="344de-424"><a href="#t2" id="r2">\[2\]</a>: Audit for this mitigation is not available via PowerShell cmdlets.</span></span>

## <a name="customize-the-notification"></a><span data-ttu-id="344de-425">通知をカスタマイズする</span><span class="sxs-lookup"><span data-stu-id="344de-425">Customize the notification</span></span>

<span data-ttu-id="344de-426">ルールがトリガーされ、アプリまたはファイルをブロックするときに通知をカスタマイズする方法の詳細については [、「Windows Security」を参照してください](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center#customize-notifications-from-the-windows-defender-security-center)。</span><span class="sxs-lookup"><span data-stu-id="344de-426">For more information about customizing the notification when a rule is triggered and blocks an app or file, see [Windows Security](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center#customize-notifications-from-the-windows-defender-security-center).</span></span>

## <a name="see-also"></a><span data-ttu-id="344de-427">関連項目:</span><span class="sxs-lookup"><span data-stu-id="344de-427">See also:</span></span>

* [<span data-ttu-id="344de-428">エクスプロイトからデバイスを保護する</span><span class="sxs-lookup"><span data-stu-id="344de-428">Protect devices from exploits</span></span>](exploit-protection.md)
* [<span data-ttu-id="344de-429">エクスプロイト保護の評価</span><span class="sxs-lookup"><span data-stu-id="344de-429">Evaluate exploit protection</span></span>](evaluate-exploit-protection.md)
* [<span data-ttu-id="344de-430">エクスプロイト保護を有効にする</span><span class="sxs-lookup"><span data-stu-id="344de-430">Enable exploit protection</span></span>](enable-exploit-protection.md)
* [<span data-ttu-id="344de-431">エクスプロイト保護構成のインポート、エクスポート、展開</span><span class="sxs-lookup"><span data-stu-id="344de-431">Import, export, and deploy exploit protection configurations</span></span>](import-export-exploit-protection-emet-xml.md)
